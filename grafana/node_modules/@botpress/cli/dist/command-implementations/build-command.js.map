{
  "version": 3,
  "sources": ["../../src/command-implementations/build-command.ts"],
  "sourcesContent": ["import type commandDefinitions from '../command-definitions'\nimport { BundleCommand } from './bundle-command'\nimport { GenerateCommand } from './gen-command'\nimport { ProjectCommand } from './project-command'\n\nexport type BuildCommandDefinition = typeof commandDefinitions.build\nexport class BuildCommand extends ProjectCommand<BuildCommandDefinition> {\n  public async run(): Promise<void> {\n    const t0 = Date.now()\n    const { type: projectType, definition: integrationDef } = await this.readProjectDefinitionFromFS()\n\n    if (projectType === 'interface') {\n      this.logger.success('Interface projects have nothing to build.')\n      return\n    }\n\n    if (integrationDef) {\n      await this._runGenerate()\n    }\n\n    await this._runBundle()\n    const dt = Date.now() - t0\n    this.logger.log(`Build completed in ${dt}ms`)\n  }\n\n  private _runGenerate() {\n    return new GenerateCommand(this.api, this.prompt, this.logger, this.argv).run()\n  }\n\n  private _runBundle() {\n    return new BundleCommand(this.api, this.prompt, this.logger, this.argv).run()\n  }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,4BAA8B;AAC9B,yBAAgC;AAChC,6BAA+B;AAGxB,MAAM,qBAAqB,sCAAuC;AAAA,EACvE,MAAa,MAAqB;AAChC,UAAM,KAAK,KAAK,IAAI;AACpB,UAAM,EAAE,MAAM,aAAa,YAAY,eAAe,IAAI,MAAM,KAAK,4BAA4B;AAEjG,QAAI,gBAAgB,aAAa;AAC/B,WAAK,OAAO,QAAQ,2CAA2C;AAC/D;AAAA,IACF;AAEA,QAAI,gBAAgB;AAClB,YAAM,KAAK,aAAa;AAAA,IAC1B;AAEA,UAAM,KAAK,WAAW;AACtB,UAAM,KAAK,KAAK,IAAI,IAAI;AACxB,SAAK,OAAO,IAAI,sBAAsB,MAAM;AAAA,EAC9C;AAAA,EAEQ,eAAe;AACrB,WAAO,IAAI,mCAAgB,KAAK,KAAK,KAAK,QAAQ,KAAK,QAAQ,KAAK,IAAI,EAAE,IAAI;AAAA,EAChF;AAAA,EAEQ,aAAa;AACnB,WAAO,IAAI,oCAAc,KAAK,KAAK,KAAK,QAAQ,KAAK,QAAQ,KAAK,IAAI,EAAE,IAAI;AAAA,EAC9E;AACF;",
  "names": []
}
